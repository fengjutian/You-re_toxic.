<view class="container">
  <view class="intro">
    <view class="title">人格特质倾向自测（PDQ-4+ 改写版）</view>
    <view class="desc">
      本测评用于了解人格特质倾向，仅供参考，不构成诊断。
    </view>
  </view>

  <block wx:for="{{questions}}" wx:key="index">
    <view class="card">
      <view class="question">{{index + 1}}. {{item.text}}</view>
      <radio-group data-index="{{index}}" bindchange="onSelect">
        <label wx:for="{{item.options}}" wx:key="value" class="option">
          <radio value="{{item.value}}" /> {{item.label}}
        </label>
      </radio-group>
    </view>
  </block>

  <button class="submit" bindtap="submit">查看倾向结果</button>

  <view wx:if="{{result}}" class="result">
    <view class="result-title">你的人格特质倾向</view>

    <block wx:for="{{result}}" wx:key="key">
      <view class="dimension-card">
        <view class="dimension-header">
          <view class="dimension-name">{{item.key}}</view>
          <view class="dimension-level {{item.levelClass}}">{{item.level}}</view>
        </view>

        <view class="score-section">
          <view class="score-info">
            <text class="score-value">{{item.score}}</text>
            <text class="score-max">/ {{item.maxScore}}</text>
          </view>
          <view class="progress-bar">
            <view class="progress-fill" style="width: {{item.percentage}}%"></view>
          </view>
          <view class="score-percent">{{item.percentage}}%</view>
        </view>

        <view class="dimension-desc">{{item.desc}}</view>
      </view>
    </block>

    <view class="coverage-info">
      <view class="info-title">人格特质维度说明</view>
      <view class="info-item">
        <text class="info-label">偏执型</text>
        <text class="info-value">倾向怀疑和敏感</text>
      </view>
      <view class="info-item">
        <text class="info-label">分裂型</text>
        <text class="info-value">偏好独处和社交退缩</text>
      </view>
      <view class="info-item">
        <text class="info-label">分裂型人格</text>
        <text class="info-value">思维或行为略独特</text>
      </view>
      <view class="info-item">
        <text class="info-label">反社会型</text>
        <text class="info-value">规则意识弱，冒险倾向</text>
      </view>
      <view class="info-item">
        <text class="info-label">边缘型</text>
        <text class="info-value">情绪波动大，人际关系不稳定</text>
      </view>
      <view class="info-item">
        <text class="info-label">戏剧型</text>
        <text class="info-value">希望引起注意，情绪表达强烈</text>
      </view>
      <view class="info-item">
        <text class="info-label">自恋型</text>
        <text class="info-value">自我中心，重视他人认可</text>
      </view>
      <view class="info-item">
        <text class="info-label">回避型</text>
        <text class="info-value">害怕批评，社交回避</text>
      </view>
      <view class="info-item">
        <text class="info-label">依赖型</text>
        <text class="info-value">倾向依赖他人</text>
      </view>
      <view class="info-item">
        <text class="info-label">强迫型</text>
        <text class="info-value">注重秩序、完美和计划</text>
      </view>
      <view class="info-item highlight">
        <text class="info-label">⚠️ 重要提示：</text>
        <text class="info-value">本测评仅供参考，不构成专业诊断。如有困扰，请寻求专业心理咨询师帮助</text>
      </view>
    </view>
  </view>
</view>

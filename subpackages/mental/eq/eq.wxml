<view class="container">
  <view class="notice">
    è¯·æ ¹æ®ä½ å¹³æ—¶çš„çœŸå®æƒ…å†µå¡«å†™ï¼Œæ¯é¢˜é€‰æ‹©æœ€ç¬¦åˆçš„ä¸€é¡¹ã€‚
    æœ¬é‡è¡¨ç”¨äºè‡ªæˆ‘è¯„ä¼°ï¼Œä¸ä½œä¸ºåŒ»å­¦è¯Šæ–­ã€‚
  </view>

  <block wx:for="{{questions}}" wx:key="index">
    <view class="card">
      <view class="question">
        {{index + 1}}. {{item.text}}
      </view>

      <radio-group data-index="{{index}}" bindchange="onSelect">
        <label wx:for="{{options}}" wx:key="value" class="option">
          <radio value="{{item.value}}" /> {{item.label}}
        </label>
      </radio-group>
    </view>
  </block>

  <button class="submit" bindtap="submit">æŸ¥çœ‹ç»“æœ</button>

  <view wx:if="{{result}}" class="result-card">
    <view class="result-header">
      <view class="result-title">æµ‹è¯„ç»“æœ</view>
    </view>

    <view class="score-section">
      <view class="score-label">æ€»åˆ†</view>
      <view class="score-value">{{result.totalScore}}</view>
      <view class="score-max">/ 100</view>
    </view>

    <view class="level-section">
      <view class="level-label">EQ æ°´å¹³</view>
      <view class="level-text {{result.levelClass}}">{{result.level}}</view>
    </view>

    <view class="desc-section">
      <view class="section-title">è§£è¯»</view>
      <view class="desc-text">{{result.desc}}</view>
    </view>

    <view class="tip-section">
      <view class="tip-label">ğŸ’¡ å»ºè®®</view>
      <view class="tip-text">{{result.tip}}</view>
    </view>

    <view wx:if="{{result.detail}}" class="detail-section">
      <view class="detail-title">åˆ†é¡¹å¾—åˆ†</view>
      <view class="detail-grid">
        <view class="detail-item">
          <view class="detail-label">æƒ…ç»ªæ„ŸçŸ¥</view>
          <view class="detail-value">{{result.detail.perception}} / 20</view>
        </view>
        <view class="detail-item">
          <view class="detail-label">æƒ…ç»ªç†è§£</view>
          <view class="detail-value">{{result.detail.understanding}} / 20</view>
        </view>
        <view class="detail-item">
          <view class="detail-label">æƒ…ç»ªè°ƒèŠ‚</view>
          <view class="detail-value">{{result.detail.regulation}} / 20</view>
        </view>
        <view class="detail-item">
          <view class="detail-label">æƒ…ç»ªè¿ç”¨</view>
          <view class="detail-value">{{result.detail.utilization}} / 20</view>
        </view>
      </view>
    </view>

    <view class="note-card">
      <view class="note-icon">âš ï¸</view>
      <view class="note-text">
        <view class="note-title">è¯´æ˜</view>
        <view class="note-message">{{result.note}}</view>
      </view>
    </view>
  </view>
</view>

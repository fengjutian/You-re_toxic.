<view class="container">
  <!-- MBTI ç»´åº¦è¯´æ˜ -->
  <view class="mbti-dimensions">
    <view class="dim-title">MBTI å››ä¸ªç»´åº¦</view>
    <view class="dim-item"><text>å¤–å‘ E / å†…å‘ Iï¼š</text>ä½ ä»å¤–ç•Œè·å¾—èƒ½é‡æˆ–ä»å†…åœ¨è·å¾—èƒ½é‡</view>
    <view class="dim-item"><text>æ„Ÿè§‰ S / ç›´è§‰ Nï¼š</text>ä½ æ›´å…³æ³¨ç°å®å…·ä½“ä¿¡æ¯æˆ–æœªæ¥å¯èƒ½æ€§</view>
    <view class="dim-item"><text>æ€è€ƒ T / æƒ…æ„Ÿ Fï¼š</text>ä½ åšå†³å®šæ›´ä¾èµ–é€»è¾‘/äº‹å®è¿˜æ˜¯æƒ…æ„Ÿ/ä»–äººæ„Ÿå—</view>
    <view class="dim-item"><text>åˆ¤æ–­ J / çŸ¥è§‰ Pï¼š</text>ä½ å€¾å‘äºè®¡åˆ’ã€æœ‰æ¡ç†è¿˜æ˜¯çµæ´»ã€éšæ€§</view>
  </view>

  <!-- æç¤º -->
  <view class="notice">
    è¯·æ ¹æ®ä½ å¹³æ—¶çš„çœŸå®åå¥½é€‰æ‹©æœ€ç¬¦åˆè‡ªå·±çš„é€‰é¡¹ã€‚
    æœ¬é‡è¡¨ç”¨äºæ€§æ ¼å€¾å‘è¯„ä¼°ï¼Œä¸ä½œä¸ºå¿ƒç†è¯Šæ–­ã€‚
  </view>

  <!-- é—®é¢˜åˆ—è¡¨ -->
  <block wx:for="{{questions}}" wx:key="index">
    <view class="card">
      <view class="question">{{index + 1}}. {{item.text}}</view>

      <radio-group data-index="{{index}}" bindchange="onSelect">
        <label wx:for="{{item.options}}" wx:key="value" class="option">
          <radio value="{{item.value}}" /> {{item.label}}
        </label>
      </radio-group>
    </view>
  </block>

  <!-- æäº¤æŒ‰é’® -->
  <button class="submit" bindtap="submit">æŸ¥çœ‹ç»“æœ</button>

  <!-- æµ‹è¯„ç»“æœ -->
  <view wx:if="{{result}}" class="result-card">
    <view class="result-header">
      <view class="result-title">æµ‹è¯„ç»“æœ</view>
    </view>

    <view class="type-section">
      <view class="type-label">ä½ çš„ MBTI ç±»å‹</view>
      <view class="type-value">{{result.type}}</view>
      <view class="type-desc">{{result.desc}}</view>
    </view>

    <view class="dimensions-section">
      <view class="dimensions-title">å››ç»´åº¦å¾—åˆ†</view>
      <view class="dimension-item">
        <view class="dimension-bar">
          <view class="bar-left" style="width: {{result.dims.EI.I * 5}}%">I</view>
          <view class="bar-label">{{result.dims.EI.label}}</view>
          <view class="bar-right" style="width: {{result.dims.EI.E * 5}}%">E</view>
        </view>
        <view class="dimension-scores">I: {{result.dims.EI.I}} | E: {{result.dims.EI.E}}</view>
      </view>

      <view class="dimension-item">
        <view class="dimension-bar">
          <view class="bar-left" style="width: {{result.dims.SN.N * 5}}%">N</view>
          <view class="bar-label">{{result.dims.SN.label}}</view>
          <view class="bar-right" style="width: {{result.dims.SN.S * 5}}%">S</view>
        </view>
        <view class="dimension-scores">N: {{result.dims.SN.N}} | S: {{result.dims.SN.S}}</view>
      </view>

      <view class="dimension-item">
        <view class="dimension-bar">
          <view class="bar-left" style="width: {{result.dims.TF.F * 5}}%">F</view>
          <view class="bar-label">{{result.dims.TF.label}}</view>
          <view class="bar-right" style="width: {{result.dims.TF.T * 5}}%">T</view>
        </view>
        <view class="dimension-scores">F: {{result.dims.TF.F}} | T: {{result.dims.TF.T}}</view>
      </view>

      <view class="dimension-item">
        <view class="dimension-bar">
          <view class="bar-left" style="width: {{result.dims.JP.P * 5}}%">P</view>
          <view class="bar-label">{{result.dims.JP.label}}</view>
          <view class="bar-right" style="width: {{result.dims.JP.J * 5}}%">J</view>
        </view>
        <view class="dimension-scores">P: {{result.dims.JP.P}} | J: {{result.dims.JP.J}}</view>
      </view>
    </view>

    <view class="note-card">
      <view class="note-icon">ğŸ’¡</view>
      <view class="note-text">
        <view class="note-message">{{result.note}}</view>
      </view>
    </view>
  </view>
</view>

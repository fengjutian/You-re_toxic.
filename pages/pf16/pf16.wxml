<view class="container">

  <!-- 介绍 -->
  <view class="intro">
    <view class="title">16PF 人格因素测评</view>
    <view class="desc">
      本测评用于了解你的人格结构倾向，
      无对错之分，请按真实情况选择。
    </view>
  </view>

  <!-- 题目 -->
  <block wx:for="{{questions}}" wx:key="index">
    <view class="card">
      <view class="question">{{index + 1}}. {{item.text}}</view>
      <radio-group data-index="{{index}}" bindchange="onSelect">
        <label wx:for="{{item.options}}" wx:key="value" class="option">
          <radio value="{{item.value}}" /> {{item.label}}
        </label>
      </radio-group>
    </view>
  </block>

  <button class="submit" bindtap="submit">查看结果</button>

  <!-- 结果 -->
  <view wx:if="{{result}}" class="result-card">
    <view class="result-header">
      <view class="result-title">16PF 人格因素画像</view>
    </view>

    <block wx:for="{{result.list}}" wx:key="key">
      <view class="factor-card">
        <view class="factor-header">
          <view class="factor-key">{{item.key}}</view>
          <view class="factor-name">{{item.name}}</view>
          <view class="factor-english">{{item.english}}</view>
        </view>
        <view class="factor-score">
          <view class="score-label">得分</view>
          <view class="score-bar">
            <view class="score-fill" style="width: {{item.score}}%;"></view>
          </view>
          <view class="score-text">{{item.score}}</view>
        </view>
        <view class="factor-desc-title">{{item.shortDesc}}</view>
        <view class="factor-desc">{{item.desc}}</view>
        <view class="factor-keywords">
          <view class="keyword-tag" wx:for="{{item.keywords}}" wx:key="*this">#{{item}}</view>
        </view>
      </view>
    </block>

    <view class="note-card">
      <view class="note-icon">💡</view>
      <view class="note-text">
        <view class="note-title">说明</view>
        <view class="note-message">16PF 通过16个基本人格因素提供深入的人格分析，建议结合其他测试工具获得更全面的自我认知。</view>
      </view>
    </view>
  </view>

</view>

<view class="container">

  <view class="intro">
    <view class="title">抽象推理能力测评（瑞文结构取向）</view>
    <view class="desc">
      本测评用于评估你的非言语推理能力结构，
      不等同于正式智商测试，仅供个人认知参考。
    </view>
    <view class="dim">模式识别（Pattern）</view>
    <view class="dim">关系推理（Relation）</view>
    <view class="dim">规则变化（Transformation）</view>
    <view class="dim">抽象归纳（Abstraction）</view>
  </view>

  <block wx:for="{{questions}}" wx:key="index">
    <view class="card">
      <view class="question">{{index + 1}}. {{item.text}}</view>
      <radio-group data-index="{{index}}" bindchange="onSelect">
        <label wx:for="{{item.options}}" wx:key="value" class="option">
          <radio value="{{item.value}}" /> {{item.label}}
        </label>
      </radio-group>
    </view>
  </block>

  <button class="submit" bindtap="submit">查看结果</button>

  <view wx:if="{{result}}" class="result">
    <view class="result-title">你的推理能力画像</view>

    <block wx:for="{{result}}" wx:key="key">
      <view class="dimension-card">
        <view class="dimension-header">
          <view class="dimension-name">{{item.name}}</view>
          <view class="dimension-level {{item.levelClass}}">{{item.level}}</view>
        </view>

        <view class="score-section">
          <view class="score-info">
            <text class="score-value">{{item.score}}</text>
            <text class="score-max">/ {{item.maxScore}}</text>
          </view>
          <view class="progress-bar">
            <view class="progress-fill" style="width: {{item.percentage}}%"></view>
          </view>
          <view class="score-percent">{{item.percentage}}%</view>
        </view>

        <view class="dimension-desc">{{item.desc}}</view>

        <view class="keywords-section">
          <block wx:for="{{item.keywords}}" wx:for-item="keyword" wx:key="*this">
            <view class="keyword-tag">{{keyword}}</view>
          </block>
        </view>

        <view class="coverage-note">
          <text class="note-label">📌 覆盖范围：</text>
          <text class="note-text">{{item.coverage}}</text>
        </view>
      </view>
    </block>

    <view class="coverage-info">
      <view class="info-title">维度覆盖说明</view>
      <view class="info-item">
        <text class="info-label">Pattern：</text>
        <text class="info-value">图形/模式识别</text>
      </view>
      <view class="info-item">
        <text class="info-label">Relation：</text>
        <text class="info-value">关系推理</text>
      </view>
      <view class="info-item">
        <text class="info-label">Transformation：</text>
        <text class="info-value">变化与规则迁移</text>
      </view>
      <view class="info-item">
        <text class="info-label">Abstraction：</text>
        <text class="info-value">抽象归纳能力</text>
      </view>
      <view class="info-item highlight">
        <text class="info-label">💡 说明：</text>
        <text class="info-value">瑞文推理测验主要评估非语言智力，尤其适合跨文化和语言限制的评估场景</text>
      </view>
    </view>
  </view>

</view>
